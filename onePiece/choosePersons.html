<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="choosePersons.css" />
    <title>One Piece</title>
</head>

<body>
    <div class="audio">
        <audio src="../contents/soundGame/roirap.mp3" controls loop autoplay>Sons</audio>
    </div>
    <!-- Section 1 title & img -->
    <section class="section1">
        <div>
            <img src="../contents/img/titlesvg.png" alt="Titre du logo One Piece">
            <h1>BIENVENUE SUR ONE PIECE
                <span><a href="#">VERSION 0.0.1</a></span></h1>
        </div>
    </section>
    <!-- Section 2 title chosse persons & Start -->
    <section class="section2">
        <div>
            <h2>Choisissez votre personnage
                <br />
                <span><a href="fight.html">Lancer la partie</a></span></h2>
        </div>
    </section>
    <!-- Section 3 chosse persons One piece-->
    <section class="section3">
        <div class="choosePersons">
            <div title="Persons">
                <!--LocalStorage button change style.-->
                <a href="#" title="Cliquer sur lancer la partie apres avoir choisis votre personnage">Luffy</a>
                <button class="changePerso">luffy</button>
            </div>
            <div title="Nami">
                <!--LocalStorage button change style.-->
                <a href="#" title="Cliquer sur lancer la partie apres avoir choisis votre personnage">Nami</a>
                <button class="changePerso" data-perso="nami">nami</button>
            </div>
            <div title="Chooper">
                <!--LocalStorage button change style.-->
                <a href="#" title="Cliquer sur lancer la partie apres avoir choisis votre personnage">Chooper</a>
                <button class="changePerso">chopper</button>
            </div>
            <div title="Smoker">
                <!--LocalStorage button change style.-->
                <a href="#" title="Cliquer sur lancer la partie apres avoir choisis votre personnage">Smoker</a>
                <button class="changePerso">smoker</button>
            </div>
            <div title="Sanji">
                <!--LocalStorage button change style.-->
                <a href="#" title="Cliquer sur lancer la partie apres avoir choisis votre personnage">Sanji</a>
                <button class="changePerso">sanji</button>
            </div>
            <div title="Ussop">
                <!--LocalStorage button change style.-->
                <a href="#" title="Cliquer sur lancer la partie apres avoir choisis votre personnage">Ussop</a>
                <button class="changePerso">ussop</button>
            </div>
            <div title="Nico Robin">
                <!--LocalStorage button change style.-->
                <a href="#" title="Cliquer sur lancer la partie apres avoir choisis votre personnage">Nico Robin</a>
                <button class="changePerso">nicoRobin</button>
            </div>
            <div title="Zorro">
                <!--LocalStorage button change style.-->
                <a href="#" title="Cliquer sur lancer la partie apres avoir choisis votre personnage">Zorro</a>
                <button class="changePerso">zorro</button>
            </div>
        </div>
    </section>
    <!--Section LocalStorage.-->
    <section>
        <!--<h1 id="nom"></h1>-->
        <!--sprite-->
        <!--<div class="sprite"></div>-->
        <!--button-->
    </section>
    <script>
        "use strict";
        //Côté sélection de perso, un truc comme ça
        /*
        Stock une key et lui spécifie une valeur, 
        le but étant de faire ceci avec tout les name; map; sound, bg;
        */
        localStorage.setItem('perso1', 'luffy');
        localStorage.setItem('perso2', 'nami');
    </script>

    <script>
        let compteur = 0;

        // Utilise le localStorage et choisis une valeur aleatoire 
        let nom = localStorage.getItem('perso1');
        //Selection tout les buttons (class changePerso) puis fais une boucle foreach pour tous les parcourir.
        //Avec un argument btn pour que sa soit pour tout les button..
        document.querySelectorAll('.changePerso').forEach(function(btn) {
            //ajoute un evenement click qui est associer a la argument.
            btn.addEventListener('click', function() {
                //place la valeur stocker dans le getAttribute pour exemple.
                console.log(btn.getAttribute('data-perso'));
                //Recupere du localStorage les valeur que nous avons stocker et ajoutons l'argunment soit
                //btn qui correspond au button et l'écrivent dans le contenus.

                //Chois des personnage au click.
                if (compteur % 2 === 0) {
                    localStorage.setItem('perso1', btn.textContent);
                } else {
                    localStorage.setItem('perso2', btn.textContent);
                }
                compteur++;
            });
        });
    </script>
</body>

</html>